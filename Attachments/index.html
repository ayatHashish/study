<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Attachment</title>

        <link rel="stylesheet" href="../css/style.css">
    </head>
    <body>
        <div class="attachment-container" style="direction: rtl;">
            <label>الملفات المرفقة</label>

            <div class="upload-container">
                <div class="upload-box" id="dropArea"
                    onclick="document.getElementById('fileInput').click()">
                    <img class="ms-2" src="/images/cloud-computing.svg"
                        alt="Alternate Text" />
                    اسحب وافلت الملفات هنا أو اضغط لاختيار ملف
                    <input type="file" id="fileInput" multiple hidden>
                </div>

                <!-- التبديل: رفع الملف القادم كمستند التعاقد أو كملف عادي -->
                <label class="checkbox-label"
                    style="margin-top:8px; display:flex; align-items:center; gap:.5rem;">
                    <input type="checkbox" id="mainContractCheck" />
                    تحميل مستند التعاقد (ملف واحد فقط)
                </label>

                <!-- أقسام العرض -->
                <div class="uploaded-sections" style="margin-top:12px;">
                    <!-- قسم مستند التعاقد -->
                    <label id="contractLabel"
                        style="display:none; font-weight:600;">مستند
                        التعاقد</label>
                    <div id="contractFile"></div>

                    <!-- قسم باقي الملفات -->
                    <label id="othersLabel"
                        style="display:none; font-weight:600; margin-top:10px;">باقي
                        الملفات المحملة</label>
                    <div class="uploaded-files" id="fileList"></div>
                </div>
            </div>
        </div>
        <!-- ====== الموديل ====== -->
        <div id="previewModal"
            style="display:none; position: fixed; top:0; left:0; width:100%; height:100%; 
background: rgba(0,0,0,0.6); z-index:9999; justify-content:center; align-items:center;">

            <div
                style="background:#fff; width:85%; height:85%; display:flex; border-radius:10px; overflow:hidden; position:relative;">

                <!-- الجزء الأول: عرض PDF/صور -->
                <div
                    style="flex:1; border-left:1px solid #ddd; display:flex; flex-direction:column; align-items:center; justify-content:center;">
                    <canvas id="pdfCanvas"
                        style="width:100%; height:90%; border:1px solid #ccc; display:none;"></canvas>
                    <img id="imgPreview"
                        style="max-width:100%; max-height:90%; display:none; object-fit:contain;" />
                    <div style="margin-top:5px; display:flex; gap:10px;">
                        <button onclick="prevPage()">⬅️ الصفحة السابقة</button>
                        <button onclick="nextPage()">➡️ الصفحة التالية</button>
                        <button onclick="zoomIn()">➕ تكبير</button>
                        <button onclick="zoomOut()">➖ تصغير</button>
                    </div>
                </div>

                <!-- الجزء التاني: البيانات -->
                <div
                    style="flex:1; padding:20px; display:flex; flex-direction:column; gap:15px; justify-content:center;">
                    <select>
                        <option>اختيار 1</option>
                        <option>اختيار 2</option>
                        <option>اختيار 3</option>
                    </select>
                    <select>
                        <option>اختيار 1</option>
                        <option>اختيار 2</option>
                        <option>اختيار 3</option>
                    </select>
                    <select>
                        <option>اختيار 1</option>
                        <option>اختيار 2</option>
                        <option>اختيار 3</option>
                    </select>
                    <input type="date" />
                    <div style="display:flex; gap:10px;">
                        <button
                            style="background:green; color:#fff; padding:10px; border:none; border-radius:5px;">إدخال
                            بيانات</button>
                        <button
                            style="background:red; color:#fff; padding:10px; border:none; border-radius:5px;"
                            onclick="closeModal()">إلغاء</button>
                    </div>
                </div>
            </div>

            <!-- أزرار التنقل -->
            <button id="prevFileBtn" onclick="prevFile()"
                style="position:absolute; left:10px; top:50%; transform:translateY(-50%);">◀</button>

            <button id="nextFileBtn" onclick="nextFile()"
                style="position:absolute; right:10px; top:50%; transform:translateY(-50%);">▶</button>
 </div>
            <script
                src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
            <script>
    
        </script>
            <script src="./js/js.js">
        </script>
        </body>
    </html>